
model *New_Model()

  // Compartments and Species:
  compartment compartment_;
  species Resistant_tumor_R in compartment_, Sensitive_tumor_S in compartment_;
  species $Tumor_Volume_V in compartment_;

  // Assignment Rules:
  Tumor_Volume_V := Resistant_tumor_R + Sensitive_tumor_S;

  // Reactions:
  Transition_to_resistance: Sensitive_tumor_S => Resistant_tumor_R; compartment_*((epsilon + alpha*u)*Sensitive_tumor_S);
  growth_of_sensitive_tumor:  => Sensitive_tumor_S; compartment_*((1 - (Sensitive_tumor_S + Resistant_tumor_R))*Sensitive_tumor_S);
  growth_of_resistant_tumor:  => Resistant_tumor_R; compartment_*(p_r*(1 - (Sensitive_tumor_S + Resistant_tumor_R))*Resistant_tumor_R);
  drug_induced_death: Sensitive_tumor_S => ; compartment_*(d*u*Sensitive_tumor_S);

  // Events:
  treatment: at (Tumor_Volume_V > V_d) && (u == 0), t0=false: u = u + u_on;

  // Species initializations:
  Resistant_tumor_R = 0;
  Resistant_tumor_R has substance_per_volume;
  Sensitive_tumor_S = S_0;
  Sensitive_tumor_S has substance_per_volume;
  Tumor_Volume_V has substance_per_volume;

  // Compartment initializations:
  compartment_ = 1;
  compartment_ has volume;

  // Variable initializations:
  S_0 = 0.01;
  V_d = 0.1;
  u = 0;
  u_on = 1.5;
  R_0 = 0;
  V_c = 0.9;
  epsilon = 1e-06;
  d = 1;
  p_r = 0.2;
  delta_ton = 1;
  delta_toff = 3;
  alpha = 0.01;

  // Other declarations:
  var u;
  const compartment_, S_0, V_d, u_on, R_0, V_c, epsilon, d, p_r, delta_ton;
  const delta_toff, alpha;

  // Unit definitions:
  unit length = metre;
  unit area = metre^2;
  unit volume = 1e-3 litre;
  unit time_unit = time_unit;
  unit substance = 1e-3 mole;
  unit extent = substance;
  unit substance_per_volume = 1e-3 mole / 1e-3 litre;

  // Display Names:
  time_unit is "time";
  compartment_ is "compartment";
  Resistant_tumor_R is "Resistant tumor R";
  Sensitive_tumor_S is "Sensitive tumor S";
  Tumor_Volume_V is "Tumor Volume V";
  Transition_to_resistance is "Transition to resistance";
  growth_of_sensitive_tumor is "growth of sensitive tumor";
  growth_of_resistant_tumor is "growth of resistant tumor";
  drug_induced_death is "drug-induced death";

end


